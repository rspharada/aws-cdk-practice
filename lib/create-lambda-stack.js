'use strict'
Object.defineProperty(exports, '__esModule', { value: true })
exports.CreateLambdaStack = void 0
const aws_cdk_lib_1 = require('aws-cdk-lib')
const path_1 = require('path')
class CreateLambdaStack extends aws_cdk_lib_1.Stack {
	constructor(scope, id, props) {
		super(scope, id, props)
		const env = this.node.tryGetContext('env')
		const context = this.node.tryGetContext(env)
		// Create Lambda Function
		new aws_cdk_lib_1.aws_lambda.Function(this, 'LambdaFunction', {
			handler: 'index.handler',
			runtime: aws_cdk_lib_1.aws_lambda.Runtime.NODEJS_14_X,
			timeout: aws_cdk_lib_1.Duration.minutes(5),
			code: aws_cdk_lib_1.aws_lambda.Code.fromAsset(
				path_1.join(__dirname, '../src/function'),
			),
			// 環境変数を定義する。
			environment: {
				NAME: context.name,
			},
		})
	}
}
exports.CreateLambdaStack = CreateLambdaStack
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWxhbWJkYS1zdGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNyZWF0ZS1sYW1iZGEtc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQStFO0FBQy9FLCtCQUEyQjtBQVEzQixNQUFhLGlCQUFrQixTQUFRLG1CQUFLO0lBQzNDLFlBQVksS0FBZ0IsRUFBRSxFQUFVLEVBQUUsS0FBa0I7UUFDM0QsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUE7UUFFdkIsTUFBTSxHQUFHLEdBQVcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbEQsTUFBTSxPQUFPLEdBQWlCLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRTFELHlCQUF5QjtRQUN6QixJQUFJLHdCQUFNLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxnQkFBZ0IsRUFBRTtZQUMzQyxPQUFPLEVBQUUsZUFBZTtZQUN4QixPQUFPLEVBQUUsd0JBQU0sQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNuQyxPQUFPLEVBQUUsc0JBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQzVCLElBQUksRUFBRSx3QkFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBSSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1lBQy9ELGFBQWE7WUFDYixXQUFXLEVBQUU7Z0JBQ1osSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2FBQ2xCO1NBQ0QsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztDQUNEO0FBbkJELDhDQW1CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YWNrLCBTdGFja1Byb3BzLCBhd3NfbGFtYmRhIGFzIGxhbWJkYSwgRHVyYXRpb24gfSBmcm9tICdhd3MtY2RrLWxpYidcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJ1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cydcblxuLy8g55Kw5aKD5aSJ5pWw44Gu5Z6L44KS5a6a576p44GZ44KL44CCXG5pbnRlcmZhY2UgU3RhZ2VDb250ZXh0IHtcblx0bmFtZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVMYW1iZGFTdGFjayBleHRlbmRzIFN0YWNrIHtcblx0Y29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM/OiBTdGFja1Byb3BzKSB7XG5cdFx0c3VwZXIoc2NvcGUsIGlkLCBwcm9wcylcblxuXHRcdGNvbnN0IGVudjogc3RyaW5nID0gdGhpcy5ub2RlLnRyeUdldENvbnRleHQoJ2VudicpXG5cdFx0Y29uc3QgY29udGV4dDogU3RhZ2VDb250ZXh0ID0gdGhpcy5ub2RlLnRyeUdldENvbnRleHQoZW52KVxuXG5cdFx0Ly8gQ3JlYXRlIExhbWJkYSBGdW5jdGlvblxuXHRcdG5ldyBsYW1iZGEuRnVuY3Rpb24odGhpcywgJ0xhbWJkYUZ1bmN0aW9uJywge1xuXHRcdFx0aGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuXHRcdFx0cnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG5cdFx0XHR0aW1lb3V0OiBEdXJhdGlvbi5taW51dGVzKDUpLFxuXHRcdFx0Y29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KGpvaW4oX19kaXJuYW1lLCAnLi4vc3JjL2Z1bmN0aW9uJykpLFxuXHRcdFx0Ly8g55Kw5aKD5aSJ5pWw44KS5a6a576p44GZ44KL44CCXG5cdFx0XHRlbnZpcm9ubWVudDoge1xuXHRcdFx0XHROQU1FOiBjb250ZXh0Lm5hbWUsXG5cdFx0XHR9LFxuXHRcdH0pXG5cdH1cbn1cbiJdfQ==
